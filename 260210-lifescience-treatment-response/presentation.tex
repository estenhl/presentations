\documentclass[aspectratio=169]{beamer}

\usepackage{enumitem}
\usepackage{tikz}

\usetikzlibrary{arrows}
\usetikzlibrary{overlay-beamer-styles}
\usetikzlibrary{positioning}

\usetheme{Baba}

\title{Supporting treatment decisions for patients with Alzheimer's disease using explainable artificial intelligence}
\author{Esten H. Leonardsen}
\date{10.02.26}
\newcommand{\event}{Norway Life Science 2026}

\newcommand{\stickman}[2][gray]{
    \node[circle,fill,minimum size=2.5mm,#1] (head) at #2 {};
    \node[rounded corners=1pt,minimum height=0.65cm,minimum width=0.2cm,fill,below = 0.5pt of head,#1] (body) {};
    \draw[line width=0.5mm,round cap-round cap,#1] ([shift={(1pt,-0.5pt)}]body.north east) --++(-90:3mm);
    \draw[line width=0.5mm,round cap-round cap,#1] ([shift={(-1pt,-0.5pt)}]body.north west)--++(-90:3mm);
    \draw[thick,white,-round cap] (body.south) --++(90:2.75mm);
}

\begin{document}
    % \begin{frame}
    %     \titlepage
    % \end{frame}

    % \begin{frame}{New treatment options for Alzheimer's disease}
    %     \centering
    %     \begin{tikzpicture}
    %         \node[draw=black] at (-7, -3.25) {};
    %         \node[draw=black] at (7, 3.25) {};

    %         \only<1>{
    %             \node[] at (0, 0) {
    %                 New medications
    %             };
    %         }
    %         \only<2>{
    %             \node[inner sep=0pt, draw=black] (lecanemab) at (-3.5, 0) {
    %                 \includegraphics[height=4cm]{data/lecanemab.jpg}
    %             };
    %             \node[anchor=north, font=\tiny, align=flush center, text width=6.5cm] at (lecanemab.south) {
    %                 Van Dyck, C. H., Swanson, C. J., Aisen, P., Bateman, R. J., Chen, C., Gee, M., ... \& Iwatsubo, T. (2023). Lecanemab in early Alzheimer’s disease. \textit{New England Journal of Medicine}, \textit{388}(1), 9-21.
    %             };
    %             \node[inner sep=0pt, draw=black] (donanemab) at (3.5, 0) {
    %                 \includegraphics[height=4cm]{data/donanemab.png}
    %             };
    %             \node[anchor=north, font=\tiny, align=flush center, text width=6.5cm] at (donanemab.south) {
    %                 Sims, J. R., Zimmer, J. A., Evans, C. D., Lu, M., Ardayfio, P., Sparks, J., ... \& Kaul, S. (2023). Donanemab in early symptomatic Alzheimer disease: the TRAILBLAZER-ALZ 2 randomized clinical trial. \textit{JAMA}, \textit{330}(6), 512-527.
    %             };
    %         }
    %         \only<3-10>{
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-6.2, 1.5)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-5.4, 1.8)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-4.4, 1.7)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-6.1, -0.9)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-6, 0.3)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-5.5, 0.6)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-5.6, -0.5)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-5.1, 0.1)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-5, -1.0)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-4.8, 1.1)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-4.5, 0)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-4.4, -1.1)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-4.1, 0.7)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-4, -0.4)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-3.6, 1.3)}
    %             \stickman{(-3.5, 0.2)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-3.6, -1)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-3.1, 1.9)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-2.9, 0.8)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-3.05, -0.3)}
    %             \stickman[alt=<9-10>{opacity=0.1}{}, gray]{(-2.7, -1)}
    %         }
    %         \only<4-10>{
    %             \stickman[alt=<9-10>{opacity=0.2, baba-red!65!gray}{alt=<4>{gray}{alt=<8->{baba-red!65!gray}{baba-red!40!gray}}}]{(6.2, -2.1)}
    %             \stickman[alt=<9-10>{opacity=0.2, baba-red!30!gray}{alt=<4>{gray}{alt=<8->{baba-red!30!gray}{baba-red!40!gray}}}]{(6.1, -1)}
    %             \stickman[alt=<9-10>{opacity=0.2, baba-red!70!gray}{alt=<4>{gray}{alt=<8->{baba-red!70!gray}{baba-red!40!gray}}}]{(5.6, -1.6)}
    %             \stickman[alt=<9-10>{opacity=0.2, gray}{alt=<4>{gray}{alt=<8->{gray}{baba-red!40!gray}}}]{(5.5, -0.5)}
    %             \stickman[alt=<9>{opacity=0.2, baba-green!40!gray}{alt=<4>{gray}{alt=<8->{baba-green!40!gray}{baba-red!40!gray}}}]{(5.2, -2.2)}
    %             \stickman[alt=<9-10>{opacity=0.2, baba-green!10!gray}{alt=<4>{gray}{alt=<8->{baba-green!10!gray}{baba-red!40!gray}}}]{(4.9, -1.1)}
    %             \stickman[alt=<9-10>{opacity=0.2, baba-red!55!gray}{alt=<4>{gray}{alt=<8->{baba-red!55!gray}{baba-red!40!gray}}}]{(4.4, -0.7)}
    %             \stickman[alt=<9-10>{opacity=0.2, baba-green!15!gray}{alt=<4>{gray}{alt=<8->{baba-green!15!gray}{baba-red!40!gray}}}]{(4.3, -1.9)}
    %             \stickman[alt=<9-10>{opacity=0.2, baba-red!75!gray}{alt=<4>{gray}{alt=<8->{baba-red!75!gray}{baba-red!40!gray}}}]{(3.7, -0.6)}
    %             \stickman[alt=<9-10>{opacity=0.2, baba-red!65!gray}{alt=<4>{gray}{alt=<8->{baba-red!65!gray}{baba-red!40!gray}}}]{(3.6, -1.8)}

    %             \draw[dashed, alt=<9-10>{black!20}{black}] (3.1, -3.3) -- (3.1, -0.1) -- (6.7, -0.1) -- (6.7, -3.3) -- cycle;
    %             \node[anchor=south, rotate=90, alt=<9-10>{text=black!20}{text=black}] at (3.1, -1.65) {Control};

    %             \stickman[alt=<9-10>{opacity=0.2, baba-green!80!gray}{alt=<4>{gray}{alt=<6->{baba-green!80!gray}{baba-green!40!gray}}}]{(5.9, 1.9)}
    %             \stickman[alt=<9-10>{opacity=0.2, gray}{alt=<4>{gray}{alt=<6->{gray}{baba-green!40!gray}}}]{(6.3, 2.8)}
    %             \stickman[alt=<9-10>{opacity=0.2, baba-green!65!gray}{alt=<4>{gray}{alt=<6->{baba-green!65!gray}{baba-green!40!gray}}}]{(5.3, 1.3)}
    %             \stickman[alt=<9>{opacity=0.2, baba-red}{alt=<4>{gray}{alt=<6->{alt=<7->{baba-red}{baba-green!25!gray}}{baba-green!40!gray}}}]{(5.4, 2.4)}
    %             \stickman[alt=<9-10>{opacity=0.2, gray}{alt=<4>{gray}{alt=<6->{gray}{baba-green!40!gray}}}]{(4.6, 1.8)}
    %             \stickman[alt=<9>{opacity=0.2, baba-green!90!gray}{alt=<4>{gray}{alt=<6->{baba-green!90!gray}{baba-green!40!gray}}}]{(4.9, 2.8)}
    %             \stickman[alt=<9-10>{opacity=0.2, baba-green!15!gray}{alt=<4>{gray}{alt=<6->{baba-green!15!gray}{baba-green!40!gray}}}]{(4.1, 2.2)}
    %             \stickman[alt=<9-10>{opacity=0.2, gray}{alt=<4>{gray}{alt=<6->{gray}{baba-green!40!gray}}}]{(4.2, 1.1)}
    %             \stickman[alt=<9-10>{opacity=0.2, baba-green!85!gray}{alt=<4>{gray}{alt=<6->{baba-green!85!gray}{baba-green!40!gray}}}]{(3.6, 2.5)}
    %             \stickman[alt=<9-10>{opacity=0.2, baba-red}{alt=<4>{gray}{alt=<6->{alt=<7->{baba-red}{baba-green!25!gray}}{baba-green!40!gray}}}]{(3.5, 1.4)}

    %             \draw[dashed, alt=<9-10>{black!20}{black}] (3.1, 0.1) -- (3.1, 3.3) -- (6.7, 3.3) -- (6.7, 0.1) -- cycle;
    %             \node[anchor=south, rotate=90, alt=<9-10>{text=black!20}{text=black}] at (3.1, 1.65) {Treatment};
    %         }
    %     \end{tikzpicture}
    % \end{frame}

    \begin{frame}{Treatment eligibility}
        \only<1>{
            \begin{tikzpicture}
                \node[draw=black] at (-7, -3.25) {};
                \node[draw=black] at (7, 3.25) {};

                \stickman{(-3.5, 0.2)}
                \node[draw=black, rounded corners=0.5, align=center, font=\scriptsize] at (0, -0.14) {
                    Treatment\\
                    eligibility\\
                    criteria
                };
                \node[align=left, anchor=west] at (3.5, 1.36) {Treatment\\candidate};
                \node[align=left, anchor=west] at (3.5, -1.64) {Contraindicated\\patient};
            \end{tikzpicture}
        }
        \centering
        \only<2>{
            \textbf{MRI-based contraindications}
            {\small
            \begin{columns}[T]
                \begin{column}{0.48\textwidth}
                    \begin{itemize}[topsep=2pt,itemsep=0pt,parsep=0pt]
                        \item[$\bullet$] A history of macrohemorrhages
                        \item[$\bullet$] More than 4 microhemorrhages
                        \item[$\bullet$] Evidence of superficial siderosis
                        \item[$\bullet$] Evidence of brain vasogenic edema
                        \item[$\bullet$] Significant white matter hyperintensities
                        \item[$\bullet$] Multiple lacunar strokes
                        \item[$\bullet$] Cerebral strokes involving a major vascular territory
                        \item[$\bullet$] Central nervous system infection
                    \end{itemize}
                \end{column}
                \begin{column}{0.48\textwidth}
                    \begin{itemize}[topsep=2pt,itemsep=0pt,parsep=0pt]
                        \item[$\bullet$] Evidence of cerebral contusion, encephalomalacia, brain aneurysms or other vascular malformations
                        \item[$\bullet$] Brain tumors other than meningioma
                        \item[$\bullet$] Arachnoid cysts
                        \item[$\bullet$] Evidence of underlying cerebral amyloid angiopathy-related inflammation
                        \item[$\bullet$] Evidence of Amyloid-Beta-related angiitis
                    \end{itemize}
                \end{column}
            \end{columns}
            }
        }
        \only<3>{
            \includegraphics[width=10cm]{data/prototype.png}
        }
    \end{frame}

    \newcommand{\mriside}[4]{
        \def\mridepth{0.75}

        \node[inner sep=0pt] (input) at (#1, #2) {
            \includegraphics[height=#3, width=#3]{#4}
        };

        \draw[fill=black] (input.north west) --
            ($ (input.north west) + (0.5 * \mridepth, 0.5 * \mridepth) $) --
            ($ (input.north east) + (0.5 * \mridepth, 0.5 * \mridepth) $) --
            (input.north east) -- cycle;
        \draw[fill=black] (input.north east) --
            ($ (input.north east) + (0.5 * \mridepth, 0.5 * \mridepth) $) --
            ($ (input.south east) + (0.5 * \mridepth, 0.5 * \mridepth) $) --
            (input.south east) -- cycle;
        \draw[] (input.north west) --
            ($ (input.north west) - (0.5 * \mridepth, 0.5 * \mridepth) $) --
            ($ (input.south west) - (0.5 * \mridepth, 0.5 * \mridepth) $) --
            (input.south west) -- cycle;
        \draw[] (input.north east) --
            ($ (input.north east) - (0.5 * \mridepth, 0.5 * \mridepth) $) --
            ($ (input.south east) - (0.5 * \mridepth, 0.5 * \mridepth) $) --
            (input.south east) -- cycle;
        \draw[] ($ (input.north west) - (0.5 * \mridepth, 0.5 * \mridepth) $) --
            ($ (input.north east) - (0.5 * \mridepth, 0.5 * \mridepth) $);
        \draw[] ($ (input.south west) - (0.5 * \mridepth, 0.5 * \mridepth) $) --
            ($ (input.south east) - (0.5 * \mridepth, 0.5 * \mridepth) $);
    }


    \begin{frame}{Explainable artificial intelligence}
        \begin{tikzpicture}
            \node[draw=black] at (-7, -3.25) {};
            \node[draw=black] at (7, 3.25) {};

            \mriside{-5.75}{0}{1.5cm}{data/slice_110.png}

            \node[anchor=east, align=left] (output) at (6.85, 0) {Treatment\\eligibility};

            \def\vsep{0.75}

            \node[draw=black, rounded corners=0.1cm, font=\small] (rule0) at ($ (input.east)!0.5!(output) + (0, 2.5*\vsep) $) {Presence of macrohemorrhages};
            \node[draw=black, rounded corners=0.1cm, font=\small] (rule1) at ($ (input.east)!0.5!(output) + (0, 1.5*\vsep) $) {Number of microhemorrhages};
            \node[draw=black, rounded corners=0.1cm, font=\small] (rule2) at ($ (input.east)!0.5!(output) + (0, 0.5*\vsep) $) {Presence of superficial siderosis};
            \node[draw=black, rounded corners=0.1cm, font=\small] (rule3) at ($ (input.east)!0.5!(output) + (0, -0.5*\vsep) $) {Presence of vasogenic edema};
            \node[draw=black, rounded corners=0.1cm, font=\small] (rule4) at ($ (input.east)!0.5!(output) + (0, -1.5*\vsep) $) {White matter hyperintensity load};
            \node[draw=black, rounded corners=0.1cm, font=\small] (rule5) at ($ (input.east)!0.5!(output) + (0, -2.5*\vsep) $) {Number of lacunar infarcts};

            \foreach \j in {0,...,5} {
                \draw[-stealth, draw=black, opacity=0.2, line width=2pt] (input.east) -- (rule\j.west);
                \draw[-stealth, draw=black, opacity=0.2, line width=2pt] (rule\j.east) -- (output);
            }

        \end{tikzpicture}
    \end{frame}

    \begin{frame}{The future of Alzheimer's treatment}
        \begin{tikzpicture}
            \node[draw=black] at (-7, -3.25) {};
            \node[draw=black] at (7, 3.25) {};

            \only<1>{
                \node[inner sep=3pt, draw=black, fill=white, anchor=north] (trials) at (0, 3.25) {
                    \includegraphics[width=6cm]{data/trials.jpg}
                };
                \node[anchor=north, font=\tiny, align=flush center, text width=6.2cm] at (trials.south) {
                Cummings, J. L., Zhou, Y., Lee, G., Zhong, K., Fonseca, J., Leisgang‐Osse, A. M., \& Cheng, F. (2025). Alzheimer's disease drug development pipeline: 2025. Alzheimer's \& Dementia: Translational Research \& Clinical Interventions, 11(2), e70098.
                };
            }
            \only<2>{
                \node[] at (0, 0) {
                    \includegraphics[width=10cm]{data/multiple_treatments.png}
                };
            }
        \end{tikzpicture}
    \end{frame}
\end{document}
